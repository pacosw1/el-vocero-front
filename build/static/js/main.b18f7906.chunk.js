(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){"use strict";n.r(t);var a=n(3),r=n.n(a),c=n(9),o=n(26),i=n(32);n(71);o.defaults.baseURL="http://localhost:3001/",exports.getAds=o.get("ads").then(function(e){return e.data}).catch(function(e){return e}),exports.createAd=function(){var e=Object(c.a)(r.a.mark(function e(t,n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.active=1,e.next=3,o.get("users/".concat(t.userId));case 3:return t.user=e.sent,e.next=6,o.post("/ads",t).then(function(e){return n.append("adId",e.data.item._id),o.post("/images",n)});case 6:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),exports.saveImage=function(){var e=Object(c.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.post("/images",t);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),exports.emailCheck=function(e){return o.get("users/email/".concat(e))},exports.usernameCheck=function(e){return o.get("users/username/".concat(e))},exports.register=function(e){return o.post("users",{username:e.username,password:e.password,email:e.email})},exports.getItemById=function(e){return o.get("ads/".concat(e)).then(function(e){return e.data}).catch(function(e){return e})},exports.getImage=function(e){return o.get("images/".concat(e)).then(function(e){return e.data}).catch(function(e){return e})},exports.create=function(e){return o.get("products/".concat(e)).then(function(e){return e.data}).catch(function(e){return e})},exports.login=function(e){var t=e.username,n=e.password;return o.post("auth",{username:t,password:n})},exports.getUser=function(){return localStorage.token?i(localStorage.token):{}}},40:function(e,t,n){e.exports=n(93)},45:function(e,t,n){},46:function(e,t,n){},49:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),o=n.n(c),i=(n(45),n(4)),s=n(5),u=n(7),l=n(6),m=n(8),p=(n(46),n(37)),h=(n(47),n(3)),f=n.n(h),d=n(9),g=(n(49),n(10)),v=n(15),b=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={user:{}},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){localStorage.token?this.setState({user:v.getUser(),loggedIn:!0}):this.setState({loggedIn:!1})}},{key:"render",value:function(){var e=this.state,t=e.loggedIn,n=e.user;return r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{id:"left"},r.a.createElement(g.b,{className:"no-link",to:"/"},r.a.createElement("p",null,"El Vocero"))),r.a.createElement("div",{id:"right"},t?r.a.createElement(E,{username:n.username}):r.a.createElement(j,null)))}}]),t}(a.Component),E=function(e){return r.a.createElement(g.b,{className:"no-link",to:"/account/profile"},e.username)},j=function(e){return r.a.createElement(g.b,{className:"no-link",to:"/login"},"Log In")},O=b,y=(n(81),n(82),n(15)),w=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={images:[]},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,y.getImage(this.props.item._id);case 3:e.t1=e.sent,e.t2={images:e.t1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.item,t=e._id,n=e.title,a=e.price;return r.a.createElement("div",{id:t,className:"preview"},r.a.createElement("div",{id:"foto"},r.a.createElement("img",{src:this.state.images[0],alt:""})),r.a.createElement("div",{id:"info"},r.a.createElement("p",{className:"title"},n),r.a.createElement("p",{className:"price"},"$",a)))}}]),t}(a.Component),k=(n(83),n(84),function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"sidebar"},r.a.createElement("ul",null,r.a.createElement("li",null,"Sidebar")),r.a.createElement("ul",null))}}]),t}(a.Component)),x=n(15),C=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={user:{}},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getUser();case 2:t=e.sent,this.setState({user:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.items.map(function(e){return r.a.createElement(g.b,{className:"no-link",to:"ads/".concat(e._id)},r.a.createElement(w,{item:e}))});return r.a.createElement("div",{className:"catalog-container"},r.a.createElement(k,{id:"side"}),r.a.createElement("div",{className:"catalog"},e))}}]),t}(a.Component),S=n(19),N=n(15);n(85);var A=n(86),I=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={post:{userId:"",title:"",description:"",price:"",imagePath:"",file:{}}},n.onSubmit=Object(d.a)(f.a.mark(function e(){var t,a,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.post,(a=new A).append("file",t.file),e.next=5,N.createAd(t,a);case 5:r=e.sent,console.log(r),window.location="/";case 8:case"end":return e.stop()}},e)})),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(f.a.mark(function e(){var t,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.post,n=Object(S.a)({},t),e.next=4,N.getUser()._id;case 4:n.userId=e.sent,this.setState({post:n});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onChange",value:function(e){var t=this.state.post,n=Object(S.a)({},t);n[e.target.name]=e.target.value,this.setState({post:n})}},{key:"loadImage",value:function(e){var t=this.state.post;t.imagePath=URL.createObjectURL(e.target.files[0]),t.file=e.target.files[0],this.setState({post:t})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"new-ad"},r.a.createElement("div",{className:"vertical-container"},r.a.createElement("div",{className:"left-info"},r.a.createElement("h1",null,"Crear nuevo anuncio"),r.a.createElement("input",{name:"title",placeholder:"titulo",onChange:function(t){return e.onChange(t)}}),r.a.createElement("input",{name:"price",placeholder:"Precio",onChange:function(t){return e.onChange(t)}}),r.a.createElement("input",{name:"description",placeholder:"Descripci\xf3n",onChange:function(t){return e.onChange(t)},style:{paddingBottom:"5rem"}}),r.a.createElement("button",{onClick:function(){return e.onSubmit()}},"Publicar"))),r.a.createElement("div",{id:"right"},r.a.createElement("h1",null,"Agrega una foto a tu anuncio"),r.a.createElement("input",{name:"imagePath",type:"file",onChange:function(t){return e.loadImage(t)}}),r.a.createElement("div",{id:"preview"},r.a.createElement("img",{src:this.state.post.imagePath,className:"image-preview",alt:""}))))}}]),t}(a.Component),U=(n(87),n(15)),P=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={account:{username:"",password:""}},n.onSubmit=Object(d.a)(f.a.mark(function e(){var t,a,r,c,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.state.account,e.next=3,U.login(t);case 3:a=e.sent,console.log(a),r=a.data,c=r.status,r.message,o=r.token,1==c&&(localStorage.token=o,window.location="/");case 7:case"end":return e.stop()}},e)})),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"onChange",value:function(e){this.state.account[e.target.name]=e.target.value,this.setState({})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"input-box"},r.a.createElement("h1",{style:{textAlign:"left"}},"Login"),r.a.createElement("input",{name:"username",onChange:function(t){return e.onChange(t)},placeholder:"username"}),r.a.createElement("input",{name:"password",onChange:function(t){return e.onChange(t)},type:"password",placeholder:"password"}),r.a.createElement("button",{onClick:function(){return e.onSubmit()}},"Sign in"),r.a.createElement("p",null,"or"),r.a.createElement(g.b,{style:{color:"blue"},to:"/register"},r.a.createElement("h2",null,"Sign Up"))))}}]),t}(a.Component),D=n(15),M=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={account:{email:"",username:"",password:""}},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"onSubmit",value:function(){var e=Object(d.a)(f.a.mark(function e(){var t,n,a,r,c,o,i;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.account,e.next=3,D.emailCheck(t.email);case 3:return n=e.sent,e.next=6,D.usernameCheck(t.username);case 6:if(a=e.sent,r=n.data,c=r.status,o=r.message,console.log(n.data),console.log(a.data),1!=c){e.next=12;break}return e.abrupt("return",alert(o));case 12:if(1!=a.data.status){e.next=14;break}return e.abrupt("return",alert(a.data.message));case 14:return e.next=16,D.register(t);case 16:return e.next=18,D.login(t);case 18:1==(i=e.sent).data.status&&(localStorage.token=i.data.token,window.location="/");case 20:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"onChange",value:function(e){var t=this.state.account,n=Object(S.a)({},t);n[e.target.name]=e.target.value,this.setState({account:n})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"input-box",style:{margin:".5rem "}},r.a.createElement("h1",{style:{textAlign:"left"}},"Sign Up"),r.a.createElement("input",{name:"email",type:"email",placeholder:"email",onChange:function(t){return e.onChange(t)}}),r.a.createElement("input",{name:"username",placeholder:"username",onChange:function(t){return e.onChange(t)}}),r.a.createElement("input",{name:"password",type:"password",placeholder:"password",onChange:function(t){return e.onChange(t)}}),r.a.createElement("button",{onClick:function(){return e.onSubmit()}},"Register")))}}]),t}(a.Component),L=(n(88),n(17)),B=n(15),_=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={user:{}},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({user:B.getUser()})}},{key:"render",value:function(){var e=this.state.user;return r.a.createElement("div",{className:"account"},r.a.createElement("div",null,r.a.createElement(g.b,{to:"/account/profile"},r.a.createElement("h3",null,"Personal Details")),r.a.createElement(g.b,{to:"/account/profile"},r.a.createElement("h3",null,"Messages")),r.a.createElement(g.b,{to:"/account/new"},r.a.createElement("h3",null,"Post Ad")),r.a.createElement(g.b,{to:"/logout"},r.a.createElement("h2",null,"Logout"))),r.a.createElement("div",null,r.a.createElement(L.a,{path:"/account/profile",render:function(t){return r.a.createElement(R,Object.assign({user:e},t))}}),r.a.createElement(L.a,{path:"/account/new",component:I})))}}]),t}(a.Component),R=function(e){var t=e.user,n=t.username,a=t.email;return r.a.createElement("div",null,r.a.createElement("h5",null,"Email"),r.a.createElement("p",null,a),r.a.createElement("h5",null,"Username"),r.a.createElement("p",null,n),r.a.createElement("h5",null,"Phone Number"),r.a.createElement("h5",null,"Location"))},W=(n(89),n(15)),$=W.getItemById,F=W.getImage,J=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={item:{user:{}},images:[]},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=Object(d.a)(f.a.mark(function e(){var t,n,a,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match,n=t.params.id,e.next=4,$(n);case 4:return a=e.sent,e.next=7,F(n);case 7:r=e.sent,this.setState({item:a,images:r});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.item,t=(e.imagePath,e.user);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"item-block pic"},r.a.createElement("div",{className:"photo"},r.a.createElement("div",{className:"item-photo"},r.a.createElement("img",{src:this.state.images[0],alt:" "})))),r.a.createElement("div",{className:"item-block inf"},r.a.createElement(V,{item:this.state.item,username:t.username})))}}]),t}(a.Component),V=function(e){var t=e.item,n=t.title,a=t.price,c=t.description,o=t.location;return r.a.createElement("div",{className:"item-info"},r.a.createElement("h2",null,n),r.a.createElement("p",null,"Sold by ",e.username),r.a.createElement("p",null,"$",a),r.a.createElement("p",null,c),r.a.createElement("p",null,o),r.a.createElement("h3",null,"Send a message to ",e.username),r.a.createElement("input",{type:"text",style:{padding:".5rem",paddingBottom:"5rem "}}),r.a.createElement("button",null,"Send a message"))},q=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).componentDidMount=function(){localStorage.removeItem("token"),window.location="/"},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return null}}]),t}(a.Component),z=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.items;return r.a.createElement("div",{className:"content"},r.a.createElement(L.a,{path:"/account",component:_}),r.a.createElement(L.a,{path:"/login",component:P}),r.a.createElement(L.a,{path:"/register",component:M}),r.a.createElement(L.a,{path:"/ads/:id",component:J}),r.a.createElement(L.a,{path:"/logout",component:q}),r.a.createElement(L.a,{path:"/",exact:!0,render:function(t){return r.a.createElement(C,Object.assign({items:e},t))}}))}}]),t}(a.Component),G=(n(90),function(e){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("p",null,"Instagram"),r.a.createElement("p",null,"Facebook"),r.a.createElement("p",null,"Email")),r.a.createElement("div",null))}),H=(n(32),n(15)),K=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(r)))).state={items:[],data:[],user:{}},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.getAds;case 2:t=e.sent,this.setState({data:t,items:t});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.items;return r.a.createElement("div",null,r.a.createElement(O,null),r.a.createElement(z,{items:e}),r.a.createElement(G,null))}}]),t}(a.Component),Q=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return p.a.configure({autoClose:2e3,draggable:!1}),r.a.createElement("div",{className:"App"},r.a.createElement(K,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(26),o.a.render(r.a.createElement(g.a,null,r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[40,1,2]]]);
//# sourceMappingURL=main.b18f7906.chunk.js.map